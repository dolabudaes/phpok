<textarea id="{$_rs.identifier}" name="{$_rs.identifier}" style="{$_rs.form_style}">{$_rs.content}</textarea>
<script type="text/javascript">
$(document).ready(function(){
	CKEDITOR.replace( '{$_rs.identifier}', {  
		language:'{$_rs.config.langid}',
		height : '{$_rs.height}px',
		readOnly:{$_rs.is_read ? 'true' : 'false'},
		startupMode:'{$_rs.is_code ? "source" : "wysiwyg"}',
		toolbar: [
			{ name: 'clipboard', items: ['Undo', 'Redo' ] },
			{ name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike','kbd','-', 'Subscript', 'Superscript', '-', 'CopyFormatting', 'RemoveFormat','quickformat' ] },
			{ name: 'colors', items: [ 'TextColor', 'BGColor' ] },
			{ name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock' ] },
			{ name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },
			{ name: 'insert', items: [
				{if $_rs.btns.image}'images',{/if}
				{if $_rs.btns.info}'arclist',{/if}
				{if $_rs.btns.video}'Html5video',{/if}
				{if $_rs.btns.audio}'Html5audio',{/if}
				{if $_rs.btns.file}'filelist',{/if}
				{if $_rs.btns.map}'BaiduMap',{/if}
				{if $_rs.btns.table}'Table',{/if}
				{if $_rs.btns.emotion}'Smiley',{/if}
				{if $_rs.btns.spechars}'SpecialChar',{/if}
				{if $_rs.btns.insertcode}'Syntaxhighlight',{/if}
				{if $_rs.btns.page}'PageBreak',{/if}
				'Iframe',
				'HorizontalRule'
			] },
			{if $_rs.btns.fontfamily || $_rs.btns.fontsize || $_rs.btns.paragraph}
			{ name: 'styles', items: [{if $_rs.btns.paragraph}'Format',{/if} {if $_rs.btns.fontfamily}'Font',{/if} {if $_rs.btns.fontsize}'FontSize',{/if} ] },
			{/if}
			{ name: 'tools', items: [ 'Maximize', 'ShowBlocks' ] },
			{ name: 'document', items: [ 'Source','Preview'] }
		],
		{if $_removePlugins}removePlugins:'{$_removePlugins}',{/if}
		filebrowserImageBrowseUrl:'{url ctrl=ckeditor func=images /}',
		filebrowserImageBrowseUrlSingle:'{url ctrl=ckeditor func=image /}',
		filebrowserHtml5videoBrowseUrl: '{url ctrl=ckeditor func=videolist /}',
		filebrowserHtml5audioBrowseUrl: '{url ctrl=ckeditor func=audiolist /}',
		filebrowserArticlelist:'{url ctrl=ckeditor func=arclist /}',
		filebrowserFilelist:'{url ctrl=ckeditor func=filelist /}',
		filebrowserUpload:'{url ctrl=ckeditor func=upload /}',
		imgToLocalRemoteDomain:'{$_remoteDomain}',
		imgToLocalIgnoreDomain:'{$_ignoreDomain}',
		imgToLocalUpload:'{url ctrl=ckeditor func=remote /}'
	});
	CKEDITOR.instances['{$_rs.identifier}'].on('change',function() {
		CKEDITOR.instances['{$_rs.identifier}'].updateElement();
	});
});
</script>
<!-- if $_rs.js_admin -->
<script type="text/javascript">
$(document).ready(function(){
	{$_rs.js_admin}
});
</script>
<!-- /if -->